#include "headers.h"

static void dc_high(void)
{
	HAL_GPIO_WritePin(DISP_D_C_GPIO_Port, DISP_D_C_Pin, HIGH);
	return;
}

static void dc_low(void)
{
	HAL_GPIO_WritePin(DISP_D_C_GPIO_Port, DISP_D_C_Pin, LOW);
	return;
}

static void reset_high(void)
{
	HAL_GPIO_WritePin(DISP_RESET_GPIO_Port, DISP_RESET_Pin, HIGH);
	return;
}

static void reset_low(void)
{
	HAL_GPIO_WritePin(DISP_RESET_GPIO_Port, DISP_RESET_Pin, LOW);
	return;
}

void ssd1309_send_command(uint8_t cmd)
{
	dc_low();
    HAL_SPI_Transmit_IT(&hspi1, &cmd, 1);
    return;
}

void ssd1309_send_data(uint8_t* data, uint16_t size)
{
	dc_high();
    HAL_SPI_Transmit_IT(&hspi1, data, size);
    return;
}

void init_ssd1309(void)
{
    // Reset sequence
    reset_low();
    HAL_Delay(50);
    reset_high();
    HAL_Delay(50);

    ssd1309_send_command(0xAE); // Display OFF

	ssd1309_send_command(0xD5); // Set Display Clock Divide Ratio / Oscillator Frequency
	ssd1309_send_command(0x80); // Default

	ssd1309_send_command(0xA8); // Set Multiplex Ratio
	ssd1309_send_command(0x3F); // 1/64 duty

	ssd1309_send_command(0xD3); // Set Display Offset
	ssd1309_send_command(0x00); // No offset

	ssd1309_send_command(0x40 | 0x00); // Set Display Start Line

	ssd1309_send_command(0xA1); // Set Segment Re-map (column address 127 is mapped to SEG0)
	ssd1309_send_command(0xC8); // Set COM Output Scan Direction (remapped mode)

	ssd1309_send_command(0xDA); // Set COM Pins Hardware Configuration
	ssd1309_send_command(0x12); // Alternative COM pin config, disable COM left/right remap

	ssd1309_send_command(0x81); // Set Contrast Control
	ssd1309_send_command(0xBF); // 0~255

	ssd1309_send_command(0xD9); // Set Pre-charge Period
	ssd1309_send_command(0x22); // Phase 1: 2 DCLKs, Phase 2: 2 DCLKs

	ssd1309_send_command(0xDB); // Set VCOMH Deselect Level
	ssd1309_send_command(0x20); // ~0.77 Vcc

	ssd1309_send_command(0xA4); // Entire Display ON (resume from RAM)
	ssd1309_send_command(0xA6); // Set Normal Display (A7 = Inverse)

	ssd1309_send_command(0x8D); // Charge Pump Setting
	ssd1309_send_command(0x14); // Enable Charge Pump

	HAL_Delay(100); // Optional stabilization delay

	ssd1309_send_command(0xAF); // Display ON

    HAL_Delay(1);
    ssd1309_fill_color(0x00); // 화면 클리어
    //ssd1309_print_24(3, 5, "52.1 MHz", 1);
    //HAL_Delay(10000);
}

void ssd1309_fill_color(uint8_t color)
{
    uint8_t buf[OLED_WIDTH];
    memset(buf, color, OLED_WIDTH); // 한 줄 전부 흰색

    for (uint8_t page = 0; page < PAGE_COUNT; page++)
    {
    	ssd1309_send_command(0xB0 | page);       // Set page start address
    	ssd1309_send_command(0x00);              // Set lower column address
    	ssd1309_send_command(0x10);              // Set higher column address

    	ssd1309_send_data(buf, OLED_WIDTH);
    }
}

void ssd1309_fill_color_one_line(uint8_t color,uint8_t line)
{
    uint8_t buf[OLED_WIDTH];
    memset(buf, color, OLED_WIDTH); // 한 줄 전부 흰색

	ssd1309_send_command(0xB0 | line);       // Set page start address
	ssd1309_send_command(0x00);              // Set lower column address
	ssd1309_send_command(0x10);              // Set higher column address

	ssd1309_send_data(buf, OLED_WIDTH);

}
// '0'-'9' (0-9), '-' (10), '_' (11), 'A'-'Z' (12-37), 'a'-'z' (38-63)
const uint8_t simple_font[][FONT_WIDTH] = {
    // 0-9
    {0x3E, 0x51, 0x49, 0x45, 0x3E}, // '0'
    {0x00, 0x42, 0x7F, 0x40, 0x00}, // '1'
    {0x42, 0x61, 0x51, 0x49, 0x46}, // '2'
    {0x21, 0x41, 0x45, 0x4B, 0x31}, // '3'
    {0x18, 0x14, 0x12, 0x7F, 0x10}, // '4'
    {0x27, 0x45, 0x45, 0x45, 0x39}, // '5'
    {0x3C, 0x4A, 0x49, 0x49, 0x30}, // '6'
    {0x01, 0x71, 0x09, 0x05, 0x03}, // '7'
    {0x36, 0x49, 0x49, 0x49, 0x36}, // '8'
    {0x06, 0x49, 0x49, 0x29, 0x1E}, // '9'

    // '-', '_'
    {0x08, 0x08, 0x08, 0x08, 0x08}, // '-'
    {0x40, 0x40, 0x40, 0x40, 0x40}, // '_'

    // A-Z
    {0x7E, 0x11, 0x11, 0x11, 0x7E}, // A
    {0x7F, 0x49, 0x49, 0x49, 0x36}, // B
    {0x3E, 0x41, 0x41, 0x41, 0x22}, // C
    {0x7F, 0x41, 0x41, 0x22, 0x1C}, // D
    {0x7F, 0x49, 0x49, 0x49, 0x41}, // E
    {0x7F, 0x09, 0x09, 0x09, 0x01}, // F
    {0x3E, 0x41, 0x49, 0x49, 0x7A}, // G
    {0x7F, 0x08, 0x08, 0x08, 0x7F}, // H
    {0x00, 0x41, 0x7F, 0x41, 0x00}, // I
    {0x20, 0x40, 0x41, 0x3F, 0x01}, // J
    {0x7F, 0x08, 0x14, 0x22, 0x41}, // K
    {0x7F, 0x40, 0x40, 0x40, 0x40}, // L
    {0x7F, 0x02, 0x0C, 0x02, 0x7F}, // M
    {0x7F, 0x04, 0x08, 0x10, 0x7F}, // N
    {0x3E, 0x41, 0x41, 0x41, 0x3E}, // O
    {0x7F, 0x09, 0x09, 0x09, 0x06}, // P
    {0x3E, 0x41, 0x51, 0x21, 0x5E}, // Q
    {0x7F, 0x09, 0x19, 0x29, 0x46}, // R
    {0x46, 0x49, 0x49, 0x49, 0x31}, // S
    {0x01, 0x01, 0x7F, 0x01, 0x01}, // T
    {0x3F, 0x40, 0x40, 0x40, 0x3F}, // U
    {0x1F, 0x20, 0x40, 0x20, 0x1F}, // V
    {0x7F, 0x20, 0x18, 0x20, 0x7F}, // W
    {0x63, 0x14, 0x08, 0x14, 0x63}, // X
    {0x07, 0x08, 0x70, 0x08, 0x07}, // Y
    {0x61, 0x51, 0x49, 0x45, 0x43}, // Z

    // a-z (ASCII 97~122 → index 38~63)
    {0x20, 0x54, 0x54, 0x54, 0x78}, // a
    {0x7F, 0x48, 0x44, 0x44, 0x38}, // b
    {0x38, 0x44, 0x44, 0x44, 0x20}, // c
    {0x38, 0x44, 0x44, 0x48, 0x7F}, // d
    {0x38, 0x54, 0x54, 0x54, 0x18}, // e
    {0x08, 0x7E, 0x09, 0x01, 0x02}, // f
    {0x0C, 0x52, 0x52, 0x52, 0x3E}, // g
    {0x7F, 0x08, 0x04, 0x04, 0x78}, // h
    {0x00, 0x44, 0x7D, 0x40, 0x00}, // i
    {0x20, 0x40, 0x44, 0x3D, 0x00}, // j
    {0x7F, 0x10, 0x28, 0x44, 0x00}, // k
    {0x00, 0x41, 0x7F, 0x40, 0x00}, // l
    {0x7C, 0x04, 0x18, 0x04, 0x78}, // m
    {0x7C, 0x08, 0x04, 0x04, 0x78}, // n
    {0x38, 0x44, 0x44, 0x44, 0x38}, // o
    {0x7C, 0x14, 0x14, 0x14, 0x08}, // p
    {0x08, 0x14, 0x14, 0x18, 0x7C}, // q
    {0x7C, 0x08, 0x04, 0x04, 0x08}, // r
    {0x48, 0x54, 0x54, 0x54, 0x20}, // s
    {0x04, 0x3F, 0x44, 0x40, 0x20}, // t
    {0x3C, 0x40, 0x40, 0x20, 0x7C}, // u
    {0x1C, 0x20, 0x40, 0x20, 0x1C}, // v
    {0x3C, 0x40, 0x30, 0x40, 0x3C}, // w
    {0x44, 0x28, 0x10, 0x28, 0x44}, // x
    {0x0C, 0x50, 0x50, 0x50, 0x3C}, // y
    {0x44, 0x64, 0x54, 0x4C, 0x44}, // z

    {0x00, 0x60, 0x60, 0x00, 0x00}, // '.'
    {0x08, 0x08, 0x3E, 0x08, 0x08}, // '+'
	{0x00, 0x7F, 0x41, 0x41, 0x00}, // '[' (index 66)
	{0x00, 0x41, 0x41, 0x7F, 0x00},  // ']' (index 67)
	{0x23, 0x13, 0x08, 0x64, 0x62},  //%
	{0xC0, 0x30, 0x0C, 0x03, 0x00},  ///
	{0x00, 0x00, 0x42, 0x00, 0x00}, //:
};

const uint8_t signal_strength[][FONT_WIDTH] =
{
		//lv1
		{0x60,0x00,0x00,0x00,0x00},
		//lv2
		{0x60,0x00,0x78,0x00,0x00},
		//lv3
		{0x60,0x00,0x78,0x00,0x7E},
};

const uint8_t font_24[128][36] = {    // 4608bytes
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x00
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0xC0,0x20,0x20,0x10,0x10,0x10,0x20,0x20,0xC0,0x00, // 0x01
   0x00,0xFF,0x00,0x00,0x46,0x86,0x80,0x86,0x46,0x00,0x00,0xFF,
   0x00,0x00,0x03,0x04,0x04,0x08,0x08,0x08,0x04,0x04,0x03,0x00},
  {0x00,0x00,0xC0,0xE0,0xE0,0xF0,0xF0,0xF0,0xE0,0xE0,0xC0,0x00, // 0x02
   0x00,0xFF,0xFF,0xFF,0xB9,0x79,0x7F,0x79,0xB9,0xFF,0xFF,0xFF,
   0x00,0x00,0x03,0x07,0x07,0x0F,0x0F,0x0F,0x07,0x07,0x03,0x00},
  {0x00,0x00,0x80,0xC0,0xC0,0x80,0x00,0x80,0xC0,0xC0,0x80,0x00, // 0x03
   0x00,0x1E,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x1E,
   0x00,0x00,0x00,0x01,0x03,0x07,0x0F,0x07,0x03,0x01,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x80,0x00,0x00,0x00,0x00, // 0x04
   0x00,0x10,0x38,0x7C,0xFE,0xFF,0xFF,0xFF,0xFE,0x7C,0x38,0x10,
   0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x03,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x80,0x00,0x00,0x00,0x00, // 0x05
   0x00,0xF0,0xF8,0xFC,0xFE,0xFF,0xFF,0xFF,0xFE,0xFC,0xF8,0xF0,
   0x00,0x00,0x01,0x01,0x09,0x0C,0x0F,0x0C,0x09,0x01,0x01,0x00},
  {0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0xE0,0xC0,0x00,0x00,0x00, // 0x06
   0x00,0xF8,0xFC,0xFC,0xFB,0xFF,0xFF,0xFF,0xFB,0xFC,0xFC,0xF8,
   0x00,0x00,0x01,0x01,0x09,0x0C,0x0F,0x0C,0x09,0x01,0x01,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x07
   0x00,0x00,0x00,0x1C,0x3E,0x7F,0x7F,0x7F,0x3E,0x1C,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF, // 0x08
   0x00,0xFF,0xFF,0xE3,0xC1,0x80,0x80,0x80,0xC1,0xE3,0xFF,0xFF,
   0x00,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x09
   0x00,0x00,0x00,0x3C,0x42,0x81,0x81,0x81,0x42,0x3C,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF, // 0x0A
   0x00,0xFF,0xFF,0x81,0x3C,0x7E,0x7E,0x7E,0x3C,0x81,0xFF,0xFF,
   0x00,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x60,0xE0,0xE0,0xE0,0x00, // 0x0B
   0x00,0xC0,0xE0,0x30,0x18,0x1C,0x36,0xE3,0xC1,0x01,0x03,0x00,
   0x00,0x03,0x07,0x0C,0x08,0x08,0x0C,0x07,0x03,0x00,0x00,0x00},
  {0x00,0x80,0xC0,0x40,0x60,0x20,0x20,0x60,0x40,0xC0,0x80,0x00, // 0x0C
   0x00,0x07,0x8F,0x88,0x98,0xF0,0xF0,0x98,0x88,0x8F,0x07,0x00,
   0x00,0x00,0x00,0x00,0x00,0x0F,0x0F,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x30,0x60,0xC0,0x80,0x00, // 0x0D
   0x00,0x00,0x00,0x00,0x80,0x80,0xFF,0x00,0x20,0x18,0x0F,0x00,
   0x00,0x00,0x06,0x0F,0x0F,0x07,0x03,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xF8,0x98,0x30,0x60,0xC0,0x00,0x00, // 0x0E
   0x00,0x80,0xC0,0xE0,0xE0,0xFF,0x01,0x03,0x06,0xFF,0x00,0x00,
   0x00,0x01,0x03,0x03,0x01,0x0C,0x1E,0x1F,0x0F,0x07,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0x00, // 0x0F
   0x00,0x10,0x11,0xBA,0x44,0x82,0x83,0x82,0x44,0xBA,0x11,0x10,
   0x00,0x00,0x01,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x01,0x00},
  {0x00,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x10
   0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x7E,0x7E,0x3C,0x3C,0x18,0x18,
   0x00,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0, // 0x11
   0x00,0x18,0x18,0x3C,0x3C,0x7E,0x7E,0xFF,0xFF,0xFF,0xFF,0xFF,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07},
  {0x00,0x00,0x40,0x60,0x30,0xF8,0xF8,0x30,0x60,0x40,0x00,0x00, // 0x12
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x01,0x03,0x06,0x0F,0x0F,0x06,0x03,0x01,0x00,0x00},
  {0x00,0x00,0xF0,0xF8,0xF0,0x00,0x00,0xF0,0xF8,0xF0,0x00,0x00, // 0x13
   0x00,0x00,0x07,0x3F,0x07,0x00,0x00,0x07,0x3F,0x07,0x00,0x00,
   0x00,0x00,0x06,0x0F,0x06,0x00,0x00,0x06,0x0F,0x06,0x00,0x00},
  {0x00,0xE0,0xF0,0x30,0x10,0x10,0xF0,0xF0,0x10,0xF0,0xF0,0x10, // 0x14
   0x00,0x03,0x07,0x06,0x04,0x04,0xFF,0xFF,0x00,0xFF,0xFF,0x00,
   0x00,0x00,0x00,0x00,0x00,0x08,0x0F,0x0F,0x08,0x0F,0x0F,0x08},
  {0x00,0x00,0xC0,0xE0,0x30,0x10,0x10,0x10,0x30,0x60,0xC0,0x00, // 0x15
   0x00,0x00,0x18,0x3D,0x67,0x42,0x42,0x42,0xE6,0xBC,0x18,0x00,
   0x00,0x00,0x03,0x06,0x0C,0x08,0x08,0x08,0x0C,0x07,0x03,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x16
   0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
   0x00,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x0F,0x00},
  {0x00,0x00,0x80,0xC0,0x60,0xF0,0xF0,0x60,0xC0,0x80,0x00,0x00, // 0x17
   0x00,0x00,0x80,0x80,0x00,0xFF,0xFF,0x00,0x80,0x80,0x00,0x00,
   0x00,0x00,0x18,0x19,0x1B,0x1F,0x1F,0x1B,0x19,0x18,0x00,0x00},
  {0x00,0x00,0x80,0xC0,0xE0,0xF0,0xF8,0xF0,0xE0,0xC0,0x80,0x00, // 0x18
   0x00,0x01,0x01,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x01,0x01,
   0x00,0x00,0x00,0x00,0x0F,0x0F,0x0F,0x0F,0x0F,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0xF8,0xF8,0xF8,0xF8,0xF8,0x00,0x00,0x00, // 0x19
   0x00,0x40,0xC0,0xC0,0xFF,0xFF,0xFF,0xFF,0xFF,0xC0,0xC0,0x40,
   0x00,0x00,0x00,0x01,0x03,0x07,0x0F,0x07,0x03,0x01,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x80,0xC0,0x00,0x00,0x00,0x00,0x00,0x00, // 0x1A
   0x08,0x1C,0x3E,0x7F,0xFF,0xFF,0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,
   0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x80,0x00,0x00,0x00,0x00, // 0x1B
   0x3E,0x3E,0x3E,0x3E,0x3E,0x3E,0xFF,0xFF,0x7F,0x3E,0x1C,0x08,
   0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x1C
   0x00,0x00,0xF8,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // 0x1D
   0x00,0x18,0x3C,0x7E,0xDB,0x18,0x18,0x18,0xDB,0x7E,0x3C,0x18,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00, // 0x1E
   0x00,0x80,0xE0,0xF8,0xFE,0xFF,0xFF,0xFE,0xF8,0xE0,0x80,0x00,
   0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00},
  {0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00, // 0x1F
   0x00,0x01,0x07,0x1F,0x7F,0xFF,0xFF,0x7F,0x1F,0x07,0x01,0x00,
   0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // space
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xFE,0xFF,0xFE,0x00,0x00,0x00,0x00, // !
   0x00,0x00,0x00,0x00,0x00,0x01,0x3F,0x01,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x06,0x0F,0x06,0x00,0x00,0x00,0x00},
  {0x00,0x46,0x6F,0x3F,0x1E,0x00,0x46,0x6F,0x3F,0x1E,0x00,0x00, // "
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0xF0,0xF0,0x80,0x80,0x80,0xF8,0xF8,0xC0,0xC0,0x00, // #
   0xC3,0xC3,0xFF,0xFF,0x61,0x61,0x61,0xFF,0xFF,0x30,0x30,0x00,
   0x00,0x00,0x0F,0x0F,0x00,0x00,0x00,0x07,0x07,0x00,0x00,0x00},
  {0xE0,0xF0,0x38,0x18,0x08,0xFE,0xFE,0x08,0x18,0x30,0x78,0x78, // $
   0x01,0x03,0x07,0x06,0x06,0xFF,0xFF,0x0C,0x0C,0x1C,0xF8,0xF0,
   0x0F,0x0F,0x06,0x0C,0x0C,0x3F,0x3F,0x0C,0x0C,0x0E,0x07,0x03},
  {0xF8,0xFC,0x06,0x06,0xFC,0xF8,0x00,0x80,0xE0,0x38,0x0C,0x00, // %
   0x00,0x01,0x83,0xC3,0x71,0x9C,0xC7,0x61,0x60,0xC0,0x80,0x00,
   0x18,0x0E,0x03,0x00,0x00,0x0F,0x1F,0x30,0x30,0x1F,0x0F,0x00},
  {0x00,0x3C,0xEE,0x86,0xC6,0x6E,0x3C,0x00,0x00,0x00,0x00,0x00, // &
   0xF0,0xFC,0x0E,0x03,0x07,0x1C,0xF0,0xC0,0x00,0x90,0xF0,0x30,
   0x07,0x0F,0x1C,0x18,0x18,0x18,0x0C,0x0F,0x07,0x0F,0x18,0x18},
  {0x00,0x00,0x00,0x00,0x00,0x46,0x6F,0x3F,0x1E,0x00,0x00,0x00, // '
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x3C,0x06,0x01,0x00,0x00, // (
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x18,0x20,0x00,0x00},
  {0x00,0x00,0x01,0x06,0x3C,0xF0,0xC0,0x00,0x00,0x00,0x00,0x00, // )
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x20,0x18,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00},
  {0xC0,0xC0,0x80,0x00,0x70,0xF8,0x70,0x00,0x80,0xC0,0xC0,0x00, // *
   0xC0,0xE1,0x61,0x12,0x8C,0xF3,0x8C,0x12,0x61,0xE1,0xC0,0x00,
   0x00,0x00,0x00,0x00,0x03,0x07,0x03,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00, // +
   0x00,0x0C,0x0C,0x0C,0x0C,0xFF,0xFF,0x0C,0x0C,0x0C,0x0C,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // ,
   0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x23,0x37,0x1F,0x0F,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // -
   0x00,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // .
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x06,0x0F,0x0F,0x06,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x3C,0x0F,0x03,0x00, // /
   0x00,0x00,0xC0,0xF0,0x3C,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,
   0x0C,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0xF8,0xFC,0x0E,0x06,0x03,0x03,0x03,0x06,0x0E,0xFC,0xF0,0x00, // 0
   0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,
   0x01,0x03,0x07,0x06,0x0C,0x0C,0x0C,0x06,0x07,0x03,0x01,0x00},
  {0x00,0x00,0x18,0x1C,0x0E,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00, // 1
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00},
  {0x18,0x3C,0x3E,0x06,0x03,0x03,0x03,0x07,0x0E,0xFC,0xF8,0x00, // 2
   0x00,0x00,0x00,0x80,0xC0,0x60,0x38,0x1C,0x07,0x03,0x00,0x00,
   0x0C,0x0E,0x0F,0x0D,0x0C,0x0C,0x0C,0x0C,0x0C,0x0F,0x0F,0x00},
  {0x00,0x1C,0x1E,0x06,0x03,0x03,0x03,0x03,0x86,0xFE,0x78,0x00, // 3
   0x80,0xC0,0xC0,0x00,0x03,0x03,0x03,0x07,0x0D,0xF8,0xF0,0x00,
   0x01,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x07,0x01,0x00},
  {0x00,0x00,0x00,0x80,0xE0,0x38,0x0E,0xFF,0xFF,0x00,0x00,0x00, // 4
   0x60,0x78,0x6E,0x63,0x60,0x60,0x60,0xFF,0xFF,0x60,0x60,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C,0x00,0x00},
  {0x00,0xFF,0xFF,0x03,0x83,0x83,0x83,0x83,0x03,0x03,0x00,0x00, // 5
   0x00,0x83,0x83,0x03,0x01,0x01,0x01,0x03,0x87,0xFE,0xF8,0x00,
   0x03,0x07,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0xC0,0xF0,0x38,0x1C,0x8E,0x86,0x87,0x83,0x03,0x03,0x00,0x00, // 6
   0xFF,0xFF,0x06,0x03,0x01,0x01,0x01,0x03,0x07,0xFE,0xF8,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x0F,0x0F,0x03,0x03,0x03,0x03,0x03,0x03,0xE3,0xFF,0x1F,0x00, // 7
   0x00,0x00,0x00,0x00,0x00,0xC0,0xF8,0x3F,0x07,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x0E,0x0F,0x01,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x7C,0xFE,0x87,0x03,0x03,0x03,0x87,0xFE,0x7C,0x00,0x00, // 8
   0xF8,0xFC,0x0E,0x07,0x03,0x03,0x03,0x07,0x0E,0xFC,0xF8,0x00,
   0x01,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x01,0x00},
  {0xF0,0xFC,0x0E,0x07,0x03,0x03,0x03,0x07,0x0E,0xFC,0xF0,0x00, // 9
   0x01,0x07,0x0E,0x1C,0x18,0x18,0x18,0x8C,0xE6,0x7F,0x1F,0x00,
   0x00,0x0C,0x0C,0x0C,0x06,0x06,0x03,0x01,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00, // :
   0x00,0x00,0x00,0x00,0xC0,0xE1,0xE1,0xC0,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0xC0,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00, // ;
   0x00,0x00,0x00,0x00,0xC0,0xE1,0xE1,0xC0,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x08,0x0D,0x07,0x03,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x80,0xC0,0x60,0x30,0x18,0x0C,0x06,0x02,0x00, // <
   0x04,0x0E,0x1B,0x31,0x60,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x06,0x0C,0x08,0x00},
  {0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00, // =
   0x00,0x61,0x61,0x61,0x61,0x61,0x61,0x61,0x61,0x61,0x61,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x02,0x06,0x0C,0x18,0x30,0x60,0xC0,0x80,0x00,0x00,0x00,0x00, // >
   0x00,0x00,0x00,0x00,0x80,0xC0,0x60,0x31,0x1B,0x0E,0x04,0x00,
   0x08,0x0C,0x06,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x18,0x3C,0x1E,0x07,0x03,0x03,0x03,0x83,0xC7,0xFE,0x7C,0x00, // ?
   0x00,0x00,0x00,0x00,0x00,0x3C,0x3F,0x03,0x01,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x04,0x0E,0x0E,0x04,0x00,0x00,0x00,0x00},
  {0xF8,0x0C,0x86,0xC3,0x63,0x23,0x63,0xC3,0xE6,0x0C,0xF8,0x00, // @
   0xFF,0x00,0x1F,0x3F,0x70,0x60,0x20,0x3F,0x7F,0x60,0x3F,0x00,
   0x01,0x03,0x06,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x06,0x02,0x00},
  {0x00,0x00,0x00,0xE3,0xFB,0x1F,0x1F,0xF8,0xE0,0x00,0x00,0x00, // A
   0x00,0xC0,0xFE,0x3F,0x19,0x18,0x18,0x19,0x3F,0xFE,0xC0,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x03,0x87,0xFE,0xFC,0x00, // B
   0x00,0xFF,0xFF,0x03,0x03,0x03,0x03,0x03,0x07,0xFD,0xF8,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0xF0,0xFC,0x0E,0x07,0x03,0x03,0x03,0x03,0x06,0x0F,0x1F,0x00, // C
   0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,
   0x00,0x03,0x07,0x06,0x0C,0x0C,0x0C,0x0C,0x07,0x07,0x03,0x00},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x07,0x0E,0xFC,0xF8,0x00, // D
   0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x01,0x00},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x83,0x83,0x0F,0x0F,0x00, // E
   0x00,0xFF,0xFF,0x03,0x03,0x03,0x03,0x07,0x07,0x00,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0F,0x0F,0x00},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x83,0x83,0x0F,0x0F,0x00, // F
   0x00,0xFF,0xFF,0x03,0x03,0x03,0x03,0x07,0x07,0x00,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0xF0,0xFC,0x0E,0x07,0x03,0x03,0x03,0x03,0x06,0x1F,0x1F,0x00, // G
   0xFF,0xFF,0x00,0x00,0x00,0x00,0x30,0x30,0x30,0xF0,0xF0,0x30,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0x03,0xFF,0xFF,0x03,0x00,0x00,0x00,0x03,0xFF,0xFF,0x03,0x00, // H
   0x00,0xFF,0xFF,0x03,0x03,0x03,0x03,0x03,0xFF,0xFF,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C,0x00},
  {0x00,0x00,0x00,0x03,0x03,0xFF,0xFF,0x03,0x03,0x00,0x00,0x00, // I
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x03,0x03,0x03,0x03,0xFF,0xFF,0x03,0x00, // J
   0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,
   0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x03,0xFF,0xFF,0x83,0xE0,0xE0,0x38,0x3B,0x0F,0x0F,0x03,0x00, // K
   0x00,0xFF,0xFF,0x1F,0x79,0x70,0xC0,0xC0,0x00,0x00,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x01,0x0D,0x0F,0x0F,0x0C,0x00},
  {0x03,0xFF,0xFF,0x03,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // L
   0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0F,0x0F,0x00},
  {0x03,0xFF,0xFF,0xF0,0x80,0x00,0x80,0xF0,0xFF,0xFF,0x03,0x00, // M
   0x00,0xFF,0xFF,0x01,0x0F,0x7C,0x0F,0x01,0xFF,0xFF,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C,0x00},
  {0x03,0xFF,0xFF,0x3C,0xE0,0x00,0x00,0x03,0xFF,0xFF,0x03,0x00, // N
   0x00,0xFF,0xFF,0x00,0x01,0x0F,0x78,0xC0,0xFF,0xFF,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x03,0x0F,0x0F,0x00,0x00},
  {0xF0,0xFC,0x1E,0x07,0x03,0x03,0x03,0x07,0x1E,0xFC,0xF0,0x00, // O
   0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x03,0x07,0xFE,0xFC,0x00, // P
   0x00,0xFF,0xFF,0x06,0x06,0x06,0x06,0x06,0x07,0x03,0x01,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0xF0,0xFC,0x1E,0x07,0x03,0x03,0x03,0x07,0x1E,0xFC,0xF0,0x00, // Q
   0xFF,0xFF,0x80,0xC0,0x40,0xC0,0xC0,0x80,0x00,0xFF,0xFF,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0D,0x0F,0x07,0x07,0x0C,0x08},
  {0x03,0xFF,0xFF,0x03,0x03,0x03,0x03,0x03,0x07,0xFE,0xF8,0x00, // R
   0x00,0xFF,0xFF,0x06,0x06,0x1E,0x7E,0xF6,0xC7,0x03,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x0D,0x0F,0x0F,0x0C,0x00},
  {0x7C,0xFE,0xC6,0x83,0x83,0x03,0x03,0x06,0x1F,0x1F,0x00,0x00, // S
   0xC0,0xC0,0x01,0x01,0x03,0x03,0x07,0x06,0x0E,0xFC,0xF8,0x00,
   0x0F,0x0F,0x03,0x06,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x01,0x00},
  {0x0F,0x0F,0x03,0x03,0x03,0xFF,0xFF,0x03,0x03,0x03,0x0F,0x0F, // T
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x00},
  {0x03,0xFF,0xFF,0x03,0x00,0x00,0x00,0x03,0xFF,0xFF,0x03,0x00, // U
   0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x03,0x3F,0xFF,0xC3,0x00,0x00,0x00,0x00,0xC3,0xFF,0x3F,0x03, // V
   0x00,0x00,0x03,0x3F,0xFC,0xC0,0xC0,0xFC,0x3F,0x03,0x00,0x00,
   0x00,0x00,0x00,0x00,0x01,0x0F,0x0F,0x01,0x00,0x00,0x00,0x00},
  {0x03,0xFF,0xFF,0x03,0x00,0x00,0x00,0x00,0x03,0xFF,0xFF,0x03, // W
   0x00,0x01,0xFF,0xFE,0x80,0xFF,0xFF,0x80,0xFE,0xFF,0x01,0x00,
   0x00,0x00,0x00,0x0F,0x0F,0x00,0x00,0x0F,0x0F,0x00,0x00,0x00},
  {0x03,0x07,0x1F,0x79,0xE0,0x80,0x80,0xE0,0x79,0x1F,0x07,0x03, // X
   0x00,0x00,0x80,0xE0,0x79,0x1F,0x1F,0x79,0xE0,0x80,0x00,0x00,
   0x0C,0x0E,0x0F,0x0D,0x00,0x00,0x00,0x00,0x0D,0x0F,0x0E,0x0C},
  {0x03,0x07,0x3F,0xFB,0xC0,0x00,0x00,0xC0,0xFB,0x3F,0x07,0x03, // Y
   0x00,0x00,0x00,0x01,0x07,0xFE,0xFE,0x07,0x01,0x00,0x00,0x00,
   0x00,0x00,0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00},
  {0x0F,0x0F,0x03,0x03,0x03,0x03,0xC3,0xF3,0x3F,0x0F,0x03,0x00, // Z
   0x00,0x00,0xC0,0xF0,0x3C,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0F,0x0F,0x00},
  {0x00,0x00,0x00,0x00,0xFF,0xFF,0x03,0x03,0x03,0x03,0x00,0x00, // [
   0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x1F,0x1F,0x18,0x18,0x18,0x18,0x00,0x00},
  {0x83,0xFF,0xFF,0x83,0x80,0x80,0x80,0x80,0x83,0xFF,0xFF,0x83, /* \ */
   0x08,0x09,0xFF,0xFE,0x88,0xFF,0xFF,0x88,0xFE,0xFF,0x09,0x08,
   0x00,0x00,0x00,0x0F,0x0F,0x00,0x00,0x0F,0x0F,0x00,0x00,0x00},
  {0x00,0x00,0x03,0x03,0x03,0x03,0xFF,0xFF,0x00,0x00,0x00,0x00, // ]
   0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,
   0x00,0x00,0x18,0x18,0x18,0x18,0x1F,0x1F,0x00,0x00,0x00,0x00},
  {0x00,0x30,0x18,0x0C,0x06,0x03,0x03,0x06,0x0C,0x18,0x30,0x00, // ^
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // _
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C},
  {0x00,0x00,0x02,0x07,0x0E,0x18,0x30,0x00,0x00,0x00,0x00,0x00, // `
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // a
   0x82,0xC3,0x61,0x21,0x31,0x31,0x31,0x33,0xFF,0xFE,0x00,0x00,
   0x07,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x06,0x07,0x0F,0x0C,0x00},
  {0x03,0xFF,0xFF,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // b
   0x00,0xFF,0xFF,0x03,0x01,0x01,0x01,0x03,0x07,0xFE,0xF8,0x00,
   0x0C,0x0F,0x07,0x06,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x80,0x80,0x00, // c
   0xF8,0xFE,0x07,0x03,0x01,0x01,0x01,0x01,0x03,0x0F,0x0F,0x00,
   0x01,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x83,0x03,0xFF,0xFF,0x00, // d
   0xF8,0xFE,0x07,0x03,0x01,0x01,0x01,0x01,0x03,0xFF,0xFF,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x06,0x0F,0x0F,0x00},
  {0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // e
   0xFC,0xFE,0x37,0x33,0x31,0x31,0x31,0x33,0x37,0x3E,0x3C,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0x80,0x80,0x80,0xFC,0xFE,0x87,0x83,0x83,0x83,0x07,0x06,0x00, // f
   0x01,0x01,0x01,0xFF,0xFF,0x01,0x01,0x01,0x01,0x00,0x00,0x00,
   0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x0C,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x80, // g
   0xFE,0xFF,0x03,0x01,0x01,0x01,0x01,0x01,0x03,0xFF,0xFF,0x01,
   0x21,0x63,0xE7,0xC6,0xC6,0xC6,0xC6,0xC6,0xE3,0x7F,0x3F,0x00},
  {0x03,0xFF,0xFF,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00, // h
   0x00,0xFF,0xFF,0x06,0x03,0x01,0x01,0x01,0x03,0xFF,0xFE,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C},
  {0x00,0x00,0x00,0x80,0x8C,0x9E,0x9E,0x0C,0x00,0x00,0x00,0x00, // i
   0x00,0x00,0x00,0x01,0x01,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x80,0x80,0x8C,0x9E,0x9E,0x0C,0x00,0x00, // j
   0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xFF,0x00,0x00,0x00,
   0x30,0x70,0xE0,0xC0,0xC0,0xC0,0xE0,0x7F,0x3F,0x00,0x00,0x00},
  {0x01,0xFF,0xFF,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00, // k
   0x00,0xFF,0xFF,0x20,0x30,0x78,0xCD,0x87,0x03,0x01,0x01,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x0D,0x0F,0x0E,0x0C,0x00},
  {0x00,0x00,0x00,0x03,0x03,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00, // l
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x0C,0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00},
  {0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00, // m
   0x01,0xFF,0xFF,0x03,0x01,0xFF,0xFF,0x03,0x01,0xFF,0xFF,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x0F,0x0F,0x0C,0x00,0x0F,0x0F,0x0C},
  {0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // n
   0x01,0xFF,0xFF,0x06,0x03,0x01,0x01,0x03,0xFF,0xFE,0x00,0x00,
   0x0C,0x0F,0x0F,0x0C,0x00,0x00,0x00,0x0C,0x0F,0x0F,0x0C,0x00},
  {0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // o
   0xF8,0xFE,0x07,0x03,0x01,0x01,0x01,0x03,0x07,0xFE,0xF8,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00, // p
   0x01,0xFF,0xFF,0x03,0x01,0x01,0x01,0x03,0x07,0xFE,0xF8,0x00,
   0xC0,0xFF,0xFF,0xC6,0xCC,0x0C,0x0C,0x0E,0x07,0x03,0x00,0x00},
  {0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00, // q
   0xF8,0xFE,0x07,0x03,0x01,0x01,0x01,0x03,0xFF,0xFF,0x01,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0xCC,0xC6,0xFF,0xFF,0xC0,0x00},
  {0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00, // r
   0x01,0xFF,0xFF,0x06,0x03,0x01,0x01,0x01,0x03,0x07,0x07,0x00,
   0x0C,0x0F,0x0F,0x0C,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x00, // s
   0x0E,0x1F,0x1B,0x31,0x31,0x31,0x61,0x63,0xE7,0xC7,0x80,0x00,
   0x0F,0x0F,0x06,0x0C,0x0C,0x0C,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0x80,0x80,0x80,0xFE,0xFF,0x80,0x80,0x80,0x80,0x80,0x00,0x00, // t
   0x01,0x01,0x01,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
   0x00,0x00,0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0E,0x07,0x03,0x00},
  {0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00, // u
   0x01,0xFF,0xFF,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x00,0x00,
   0x00,0x03,0x07,0x0E,0x0C,0x0C,0x0C,0x06,0x07,0x0F,0x0C,0x00},
  {0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80, // v
   0x01,0x03,0x1F,0xFD,0xE0,0x00,0x00,0xE0,0xFD,0x1F,0x03,0x01,
   0x00,0x00,0x00,0x00,0x03,0x0F,0x0F,0x03,0x00,0x00,0x00,0x00},
  {0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80, // w
   0x01,0x0F,0xFF,0xF1,0x80,0xF8,0xF8,0x80,0xF1,0xFF,0x0F,0x01,
   0x00,0x00,0x00,0x0F,0x0F,0x00,0x00,0x0F,0x0F,0x00,0x00,0x00},
  {0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00, // x
   0x01,0x03,0x07,0x8D,0xF8,0x70,0xF8,0x8D,0x07,0x03,0x01,0x00,
   0x0C,0x0E,0x0F,0x0D,0x00,0x00,0x00,0x0D,0x0F,0x0E,0x0C,0x00},
  {0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80, // y
   0x01,0x07,0x1F,0x79,0xE0,0x80,0x80,0xE0,0x79,0x1F,0x07,0x01,
   0x00,0xC0,0xC0,0xE0,0xF9,0xDF,0x07,0x01,0x00,0x00,0x00,0x00},
  {0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00, // z
   0x03,0x03,0x81,0xC1,0x61,0x31,0x19,0x0D,0x07,0x03,0x01,0x00,
   0x0E,0x0F,0x0D,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0F,0x0F,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xFC,0xFE,0x07,0x03,0x01,0x01,0x00, // {
   0x00,0x00,0x04,0x0E,0x1B,0xF1,0xE0,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x0F,0x1F,0x38,0x30,0x20,0x20,0x00},
  {0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00, // |
   0x00,0x00,0x00,0x00,0x00,0xE7,0xE7,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x01,0x01,0x03,0x07,0xFE,0xFC,0x00,0x00,0x00,0x00,0x00, // }
   0x00,0x00,0x00,0x00,0x00,0xE0,0xF1,0x1F,0x0E,0x04,0x00,0x00,
   0x00,0x20,0x20,0x30,0x38,0x1F,0x0F,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, // ~
   0x08,0x0C,0x06,0x06,0x06,0x0C,0x18,0x18,0x18,0x0C,0x04,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x3C,0x66,0x42,0x42,0x66,0x3C,0x00,0x00,0x00, // 0x7F
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}
};


int get_char_index(char c) {
    if (c >= '0' && c <= '9') return c - '0';              // 0-9: index 0~9
    if (c == '-') return 10;                               // '-': index 10
    if (c == '_') return 11;                               // '_': index 11
    if (c >= 'A' && c <= 'Z') return 12 + (c - 'A');       // A-Z: index 12~37
    if (c >= 'a' && c <= 'z') return 38 + (c - 'a');       // a-z: index 38~63
    if (c == '.') return 64;                               // '.': index 64
    if (c == '+') return 65;   							   // '+': index 65
    if (c == '[') return 66;                               // '[': index 66
    if (c == ']') return 67;                               // ']': index 67
    if (c == '%') return 68;
    if (c == '/') return 69;
    if (c == ':') return 70;
    return -1;                                             // no support
}

void ssd1309_goto(uint8_t page, uint8_t column)
{
    ssd1309_send_command(0xB0 + page);               // page address
    ssd1309_send_command(0x00 + (column & 0x0F));    // lower nibble
    ssd1309_send_command(0x10 + ((column >> 4) & 0x0F)); // upper nibble
}

void ssd1309_draw_char(uint8_t page, uint8_t col, char c, uint8_t invert)
{
    int idx = get_char_index(c);
    if (idx < 0) return;

    uint8_t buf[FONT_WIDTH];

    memcpy(buf, simple_font[idx], FONT_WIDTH);

    if(invert)
    {
        for(int i = 0; i < FONT_WIDTH; i++)
        {
        	buf[i] = ~buf[i];
        }
    }

    ssd1309_goto(page, col);
    ssd1309_send_data(buf, FONT_WIDTH);

    uint8_t space = invert ? 0xFF : 0x00;
    ssd1309_send_data(&space, 1);
}

void ssd1309_print(uint8_t page, uint8_t col, const char* str, uint8_t invert)
{
    while (*str)
    {
        ssd1309_draw_char(page, col, *str, invert);
        col += FONT_WIDTH + 1;
        str++;
    }
}
void ssd1309_draw_char_24(uint8_t page, uint8_t col, char c, uint8_t invert)
{
    int idx = c;
    if (idx < 0) return;

    uint8_t buf[36];


    memcpy(buf, font_24[idx], 36);


    if(invert)
    {
        for(int i = 0; i < 36; i++)
        {
        	buf[i] = ~buf[i];
        }
    }

    ssd1309_goto(page, col);
    ssd1309_send_data(buf, 12);

    ssd1309_goto(page+1, col);
    ssd1309_send_data(&buf[12], 12);
    ssd1309_goto(page+2, col);
    ssd1309_send_data(&buf[24], 12);

}

void ssd1309_print_24(uint8_t page, uint8_t col, const char* str, uint8_t invert)
{
    while (*str)
    {
        ssd1309_draw_char_24(page, col, *str, invert);
        col += 12 + 1;
        str++;
    }
}
void ssd1309_draw_signal_strength(uint8_t page, uint8_t col, char c, uint8_t invert)
{
    int idx = c;
    if (idx < 0) return;

    uint8_t buf[FONT_WIDTH];

    memcpy(buf, signal_strength[idx], FONT_WIDTH);

    if(invert)
    {
        for(int i = 0; i < FONT_WIDTH; i++)
        {
        	buf[i] = ~buf[i];
        }
    }

    ssd1309_goto(page, col);
    ssd1309_send_data(buf, FONT_WIDTH);

    uint8_t space = invert ? 0xFF : 0x00;
    ssd1309_send_data(&space, 1);
}

void ssd1309_draw_line(uint8_t page)
{
	uint8_t col = 0;
	uint8_t buf[OLED_WIDTH] = {0,};

	memset(buf, 0x10, sizeof(buf));

	for(uint8_t i=0; i<OLED_WIDTH ; i++)
	{
		ssd1309_goto(page, col++);
		ssd1309_send_data(buf, 1);
	}
}
